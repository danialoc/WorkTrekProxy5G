<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة التحميل</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-bg: #1a1a2e;
            --secondary-bg: #16213e;
            --text-color: #e0e0e0;
            --accent-color: #e94560;
            --loader-color: #0f3460;
            --border-color: #0f3460;
            --fire-color1: #ff7f50; /* Coral */
            --fire-color2: #ff4500; /* OrangeRed */
            --fire-color3: #ffa500; /* Orange */
            --fire-color4: #ffff00; /* Yellow */
            --explosion-color1: #ff8c00; /* DarkOrange */
            --explosion-color2: #ffd700; /* Gold */
            --rocket-body-color: #808080; /* Gray */
            --rocket-tip-color: #b0b0b0; /* Light Gray */
            --rocket-flame-color1: #ff4500; /* OrangeRed */
            --rocket-flame-color2: #ffa500; /* Orange */
            --particle-color: rgba(255, 255, 255, 0.7);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Cairo', sans-serif;
            background-color: var(--primary-bg);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden; /* Prevent horizontal scroll */
            position: relative; /* For absolutely positioned elements */
        }

        .container {
            background-color: var(--secondary-bg);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            text-align: center;
            z-index: 10; /* Ensure container is above animations */
            position: relative; /* For proper z-indexing */
            max-width: 90%; /* Max width for responsiveness */
            width: 500px; /* Desired width */
            border: 2px solid var(--border-color); /* Add border for design */
        }

        h1 {
            color: var(--accent-color);
            margin-bottom: 20px;
            font-size: 2.5em;
        }

        .loader-wrapper {
            position: relative;
            width: 100px;
            height: 100px;
            margin: 30px auto;
        }

        .loader {
            width: 80px;
            height: 80px;
            border: 8px solid var(--loader-color);
            border-top: 8px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1.2s linear infinite;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .loader-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2em;
            color: var(--text-color);
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .main-text {
            font-size: 1.2em;
            margin-top: 20px;
            line-height: 1.6;
        }

        .message-display {
            font-size: 1.8em;
            color: var(--accent-color);
            margin-top: 30px;
            font-weight: bold;
            animation: fadeIn 1s ease-out;
        }

        .additional-info {
            font-size: 0.9em;
            margin-top: 15px;
            color: rgba(224, 224, 224, 0.8);
        }

        .additional-info a {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: bold;
        }

        .additional-info a:hover {
            text-decoration: underline;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Particles Background */
        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            overflow: hidden;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background-color: var(--particle-color);
            border-radius: 50%;
            opacity: 0;
            animation: particle-move linear infinite;
        }

        @keyframes particle-move {
            0% { transform: translateY(0) scale(0); opacity: 0; }
            10% { opacity: 1; scale(1); }
            90% { opacity: 1; scale(0.5); }
            100% { transform: translateY(-100vh) scale(0); opacity: 0; }
        }

        /* Fire Effect */
        .fire-effect {
            position: absolute;
            height: 100%;
            top: 0;
            width: 150px; /* Base width for fire effect */
            display: flex;
            flex-direction: column;
            justify-content: flex-end; /* Align flames to the bottom */
            overflow: hidden; /* Ensure flames don't overflow */
            z-index: 2;
        }

        .fire-left {
            left: -50px; /* Start slightly off-screen to the left */
            transform: translateX(-50%); /* Adjust for RTL if needed, but 'left' is better */
        }

        .fire-right {
            right: -50px; /* Start slightly off-screen to the right */
            transform: translateX(50%); /* Adjust for RTL if needed, but 'right' is better */
        }

        .flame {
            background: linear-gradient(to top, var(--fire-color1), var(--fire-color2), var(--fire-color3), var(--fire-color4));
            border-radius: 50% 50% 0 0;
            position: relative;
            filter: blur(10px); /* Soft blur for fire effect */
            opacity: 0;
            animation: ignite 2s ease-out infinite alternate;
        }
        
        .flame:nth-child(1) { width: 60%; height: 100px; animation-delay: 0s; }
        .flame:nth-child(2) { width: 70%; height: 120px; animation-delay: 0.5s; }
        .flame:nth-child(3) { width: 80%; height: 140px; animation-delay: 1s; }
        .flame:nth-child(4) { width: 90%; height: 160px; animation-delay: 1.5s; }

        @keyframes ignite {
            0% { transform: translateY(100px) scaleX(0.2) opacity(0); }
            20% { transform: translateY(0) scaleX(0.8) opacity(1); }
            70% { transform: translateY(-70px) scaleX(0.6) opacity(0.5); }
            100% { transform: translateY(-120px) scaleX(0.4) opacity(0); }
        }

        /* Explosion Effect */
        .explosion-side {
            position: absolute;
            width: 200px;
            height: 200px;
            top: 10%; /* Closer to the top for the explosion */
            z-index: 2;
            pointer-events: none; /* Allow clicks through */
            overflow: hidden; /* Contain sparks */
        }

        .explosion-left {
            left: -50px;
        }

        .explosion-right {
            right: -50px;
        }

        .spark {
            position: absolute;
            background-color: var(--explosion-color2);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--explosion-color1), 0 0 20px var(--explosion-color2);
            opacity: 0;
            animation: explode-spark-infinite 2s ease-out infinite;
        }

        /* Rocket Animation */
        .rocket-container {
            position: absolute;
            bottom: -150px; /* Start off-screen */
            width: 80px; /* Container width for the rocket to move in */
            height: 100%; /* Cover full height for animation */
            display: flex;
            justify-content: center; /* Center rocket within its container */
            align-items: flex-end; /* Align rocket to the bottom of the container */
            z-index: 3;
        }

        .rocket-left {
            left: 5%; /* Start from left side */
            animation: launch-rocket 5s linear infinite;
        }

        .rocket-right {
            right: 5%; /* Start from right side */
            animation: launch-rocket 5s linear infinite;
            animation-delay: 2.5s; /* Stagger the rockets */
        }

        .rocket {
            width: 40px;
            height: 120px;
            background-color: var(--rocket-body-color);
            border-radius: 50% 50% 10% 10%;
            position: relative;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        .rocket::before { /* Rocket tip */
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 25px solid var(--rocket-tip-color);
        }

        .rocket-flame {
            position: absolute;
            width: 30px;
            height: 80px;
            background: linear-gradient(to top, var(--rocket-flame-color1), var(--rocket-flame-color2));
            border-radius: 50% 50% 0 0;
            bottom: -40px; /* Position below the rocket body */
            left: 50%;
            transform: translateX(-50%);
            filter: blur(10px);
            opacity: 0.8;
            animation: pulse-flame 0.5s infinite alternate;
            box-shadow: 0 0 15px var(--rocket-flame-color1), 0 0 30px var(--rocket-flame-color2);
        }

        @keyframes pulse-flame {
            0% { transform: translateX(-50%) scaleY(1); opacity: 0.8; }
            100% { transform: translateX(-50%) scaleY(1.1); opacity: 1; }
        }

        @keyframes launch-rocket {
            0% { bottom: -150px; opacity: 0; transform: translateX(-50%) scale(0.7); }
            5% { opacity: 1; }
            90% { bottom: 100vh; opacity: 1; transform: translateX(-50%) scale(1); }
            100% { bottom: 150vh; opacity: 0; transform: translateX(-50%) scale(1.2); }
        }


        /* Responsive Adjustments - MOBILE FIRST */
        /*
           Starting with mobile adjustments first, then scaling up.
           This ensures smaller screens get appropriate styling without
           being overridden by desktop styles if not explicitly reset.
        */

        @media (max-width: 600px) {
            .container {
                padding: 30px;
                border-radius: 10px;
                width: 95%; /* Make it wider on small screens */
                max-width: none; /* Remove max-width constraint */
            }
            h1 {
                font-size: 1.8em;
            }
            .loader-wrapper {
                width: 80px;
                height: 80px;
            }
            .loader {
                width: 60px;
                height: 60px;
                border-width: 6px;
            }
            .loader-text {
                font-size: 1em;
            }
            .main-text {
                font-size: 1em;
            }
            .message-display {
                font-size: 1.5em;
            }
            .additional-info {
                font-size: 0.85em;
            }

            /* Adjust fire effect for smaller screens */
            .fire-effect {
                width: 120px; /* Increased width for better visibility */
                height: 100vh; /* Ensure it covers full height */
                transform: none; /* Remove any previous translateX */
            }
            .fire-left {
                left: 0; /* Position precisely at the left edge */
            }
            .fire-right {
                right: 0; /* Position precisely at the right edge */
            }
            .flame {
                height: 70px; /* Restore or slightly adjust flame height */
                filter: blur(6px); /* Maintain a good blur effect */
                width: 90%; /* Ensure flames fill the width of the effect container */
            }
            /* Adjust flame animation for mobile if needed, e.g., shorter translateY */
            @keyframes ignite {
                0% { transform: translateY(80px) scaleX(0.4) opacity(0); }
                20% { transform: translateY(0) scaleX(0.9) opacity(0.8); }
                70% { transform: translateY(-50px) scaleX(0.7) opacity(0.5); }
                100% { transform: translateY(-100px) scaleX(0.5) opacity(0); }
            }


            /* Adjust explosion effect for smaller screens */
            .explosion-side {
                width: 150px; /* Increased width to spread sparks wider */
                height: 150px; /* Increased height */
                top: 20%; /* Keep it around the top area */
                transform: none; /* Reset transforms */
            }
            .explosion-left {
                left: 0%; /* Position precisely at the left edge */
            }
            .explosion-right {
                right: 0%; /* Position precisely at the right edge */
                left: auto; /* Important to avoid conflict with 'left' */
            }
            .spark {
                width: 10px; /* Slightly larger sparks */
                height: 10px;
                box-shadow: 0 0 8px var(--explosion-color2), 0 0 16px var(--explosion-color1);
            }
            /* Adjust spark travel distance for mobile */
            @keyframes explode-spark-infinite {
                0% { opacity: 0; transform: translate(0, 0) scale(0.2); }
                20% { opacity: 1; transform: translate(calc(var(--distance) * 1 * cos(var(--angle) * 0.0174533)), calc(var(--distance) * 1 * sin(var(--angle) * 0.0174533))) scale(1); } /* Full distance */
                80% { opacity: 0; transform: translate(calc(var(--distance) * 1.5 * cos(var(--angle) * 0.0174533)), calc(var(--distance) * 1.5 * sin(var(--angle) * 0.0174533))) scale(0.5); }
                100% { opacity: 0; transform: translate(0, 0) scale(0.2); }
            }


            /* Adjust rocket effect for smaller screens */
            .rocket-container {
                width: 60px; /* Increased width for more space */
            }
            .rocket-left {
                left: 0; /* Position precisely at the left edge */
            }
            .rocket-right {
                right: 0; /* Position precisely at the right edge */
            }
            .rocket {
                width: 30px; /* Make rockets noticeably wider */
                height: 90px; /* Make rockets taller */
                /* Adjust bottom in animation, not here */
            }
            .rocket::before { /* مقدمة الصاروخ */
                top: -15px; /* Keep consistent with larger size */
                border-left: 15px solid transparent;
                border-right: 15px solid transparent;
                border-bottom: 20px solid var(--rocket-tip-color);
            }
            .rocket-flame {
                width: 25px; /* Make flame wider */
                height: 70px; /* Make flame taller */
                bottom: -35px; /* Adjust to be below the rocket */
                left: 50%;
                transform: translateX(-50%);
                filter: blur(8px); /* Full blur for intense flame */
                box-shadow: 0 0 20px var(--rocket-flame-color1), 0 0 40px var(--rocket-flame-color2);
            }
            /* Adjust rocket launch animation if needed for speed/height */
            @keyframes launch-rocket {
                0% { bottom: -150px; opacity: 0; transform: translateX(-50%) scale(0.7); }
                5% { opacity: 1; }
                90% { bottom: 100vh; opacity: 1; transform: translateX(-50%) scale(1); }
                100% { bottom: 150vh; opacity: 0; transform: translateX(-50%) scale(1.2); }
            }
        }

        /* Further adjustments for very small screens (e.g., iPhone SE, older Android) */
        @media (max-width: 480px) { /* Added new media query for more granular control */
            .container {
                padding: 25px;
            }
            h1 {
                font-size: 1.6em;
            }
            .main-text {
                font-size: 0.95em;
            }
            .message-display {
                font-size: 1.4em;
            }
            .additional-info {
                font-size: 0.8em;
            }

            .fire-effect {
                width: 100px;
            }
            .flame {
                height: 60px;
            }

            .explosion-side {
                width: 130px;
                height: 130px;
                top: 18%;
            }
            .spark {
                width: 8px;
                height: 8px;
            }
            @keyframes explode-spark-infinite {
                0% { opacity: 0; transform: translate(0, 0) scale(0.1); }
                20% { opacity: 1; transform: translate(calc(var(--distance) * 0.7 * cos(var(--angle) * 0.0174533)), calc(var(--distance) * 0.7 * sin(var(--angle) * 0.0174533))) scale(0.8); } /* Shorter distance */
                80% { opacity: 0; transform: translate(calc(var(--distance) * 1.0 * cos(var(--angle) * 0.0174533)), calc(var(--distance) * 1.0 * sin(var(--angle) * 0.0174533))) scale(0.4); }
                100% { opacity: 0; transform: translate(0, 0) scale(0.1); }
            }

            .rocket-container {
                width: 50px;
            }
            .rocket {
                width: 25px;
                height: 75px;
            }
            .rocket::before {
                top: -12px;
                border-left: 12px solid transparent;
                border-right: 12px solid transparent;
                border-bottom: 18px solid var(--rocket-tip-color);
            }
            .rocket-flame {
                width: 20px;
                height: 55px;
                bottom: -28px;
            }
        }
    </style>
</head>
<body>

    <div class="particles"></div>

    <div class="fire-effect fire-left">
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
    </div>
    <div class="fire-effect fire-right">
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
    </div>

    <div class="explosion-side explosion-left"></div>
    <div class="explosion-side explosion-right"></div>

    <div class="rocket-container rocket-left">
        <div class="rocket">
            <div class="rocket-flame"></div>
        </div>
    </div>
    <div class="rocket-container rocket-right">
        <div class="rocket">
            <div class="rocket-flame"></div>
        </div>
    </div>

    <div class="container">
        <h1>مرحباً بك!</h1>
        <div class="loader-wrapper">
            <div class="loader"></div>
            <div class="loader-text">جارٍ التحميل...</div>
        </div>
        <p class="main-text">
            يرجى الانتظار بينما نقوم بتحضير تجربتك. هذه العملية قد تستغرق بضع لحظات.
        </p>
        <p class="message-display" id="message-display">
            الرجاء عدم إغلاق الصفحة.
        </p>
        <p class="additional-info">
            إذا لم يتم التغيير تلقائياً، يرجى التوجه إلى <br>
            <a href="https://danialoc.github.io/Worktreckproxy5G" target="_blank">
                صفحة مشروعنا الأساسية
            </a>
        </p>
    </div>

    <script>
        // JavaScript for dynamic particle generation and explosion sparks
        document.addEventListener('DOMContentLoaded', () => {
            const particlesContainer = document.querySelector('.particles');
            const numParticles = 80; // Reduced for performance on mobile

            for (let i = 0; i < numParticles; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                const size = Math.random() * 5 + 2; // Particle size 2-7px
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                const startX = Math.random() * 100; // Start across the full width
                particle.style.left = `${startX}vw`;
                
                const duration = Math.random() * 8 + 5; // Animation duration 5-13s
                particle.style.animationDuration = `${duration}s`;
                
                const delay = Math.random() * 5; // Animation delay 0-5s
                particle.style.animationDelay = `${delay}s`;

                particlesContainer.appendChild(particle);
            }

            const explosionLeft = document.querySelector('.explosion-left');
            const explosionRight = document.querySelector('.explosion-right');
            const numSparks = 20; // Number of sparks for each explosion

            function createSparks(explosionElement) {
                for (let i = 0; i < numSparks; i++) {
                    const spark = document.createElement('div');
                    spark.classList.add('spark');
                    explosionElement.appendChild(spark);

                    // Random angle for each spark (in degrees)
                    const angle = Math.random() * 360;
                    // Random distance for sparks to travel
                    const distance = Math.random() * 80 + 50; // Sparks travel 50-130px

                    spark.style.setProperty('--angle', angle);
                    spark.style.setProperty('--distance', distance);

                    // Random delay for each spark to make it look more natural
                    spark.style.animationDelay = `${Math.random() * 1}s`; // 0-1s delay
                }
            }

            createSparks(explosionLeft);
            createSparks(explosionRight);

            const messages = [
                "جارٍ إعداد اتصالك الآمن...",
                "تحسين الأداء...",
                "جلب أحدث التحديثات...",
                "التحقق من التوافق...",
                "اللمسات الأخيرة..."
            ];
            let currentMessageIndex = 0;
            const messageDisplay = document.getElementById('message-display');

            function updateMessage() {
                messageDisplay.style.opacity = 0; // Fade out
                messageDisplay.style.transform = 'translateY(20px)'; // Move down slightly

                setTimeout(() => {
                    messageDisplay.textContent = messages[currentMessageIndex];
                    messageDisplay.style.opacity = 1; // Fade in
                    messageDisplay.style.transform = 'translateY(0)'; // Move up

                    currentMessageIndex = (currentMessageIndex + 1) % messages.length;
                }, 500); // Wait for fade out to complete before changing text
            }

            // Update message every 3 seconds
            setInterval(updateMessage, 3000);
            updateMessage(); // Initial call to display the first message
        });
    </script>
</body>
</html>
